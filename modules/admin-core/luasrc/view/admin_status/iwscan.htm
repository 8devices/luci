<%#
LuCI - Lua Configuration Interface
Copyright 2008 Steven Barth <steven@midlink.org>
Copyright 2008 Jo-Philipp Wich <xm@leipzig.freifunk.net>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

$Id$

-%>
<%+header%>
<h1><%:iwscan%></h1>
<p><%:iwscan1%></p>

<br />
<table cellspacing="0" cellpadding="6" class="smalltext">
<tr>
<th><%:interface%></th>
<th>ESSID</th>
<th>BSSID</th>
<th><%:mode%></th>
<th><%:channel%></th>
<th><%:iwscan_encr%></th>
<th><%:iwscan_link%></th>
<th><%:iwscan_signal%></th>
<th><%:iwscan_noise%></th>
</tr>
<%for iface, cells in pairs(luci.sys.wifi.iwscan()) do
	for i, cell in ipairs(cells) do 
%>
<tr>
<td><%=iface%></td>
<td><%=cell.ESSID%></td>
<td><%=cell.Address%></td>
<td><%=cell.Mode%></td>
<td><%=(cell.Channel or cell.Frequency or "")%></td>
<td><%=cell["Encryption key"]%></td>
<td><%=cell.Quality%></td>
<td><%=cell["Signal level"]%></td>
<td><%=cell["Noise level"]%></td>
</tr>
<%
	end
end
%>
</table>
<br />
<%+footer%>